<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro JS</title>
    <link rel="stylesheet" href="login.css">
</head>
<body>
        <img src="assets/logo.webp" class="box">

        <form> 
            <div class="h3">
                <h3 style="color: rgb(255, 255, 255)">Cadastro</h3>
        </div>
            <input type="text" placeholder="Login" id="login">
            <input type="password" placeholder="Senha" id="senha">
            <input type="text" placeholder="Email" id="Email">
            <input type="text" placeholder="Telefone" id="telefone">
            <input type="submit" onclick="logar(); return false">
        </form>

    <script>  
        function logar(){
            var login = document.getElementById('login').value;
            var senha = document.getElementById('senha').value;
            var Email = document.getElementById('Email').value;
            var telefone = document.getElementById('telefone').value;

            if(login == "admin" && senha == "admin" && Email == "admin@gmail.com" && telefone == "12341234"){
                alert('Sucesso');
                location.href = "home.html";
            }else{
                alert('Usuário ou senha incorretos');
            }
        }
    </script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyD3cEfQ77mfvUAWwHKBer6HzKUvPgTXWZ4",
          authDomain: "sistema-de-academia-5b38e.firebaseapp.com",
          projectId: "sistema-de-academia-5b38e",
          storageBucket: "sistema-de-academia-5b38e.firebasestorage.app",
          messagingSenderId: "795204207573",
          appId: "1:795204207573:web:e7d6ed8b4167a1bb45735c",
          measurementId: "G-X2WL94RN2Q"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        set (ref(DB, 'usuarios/'+ login),{
            login: login,
            senha: senha,
            telefone: telefone,
            email: email
        })
        then(() => {
            alert("usuário cadastrado com sucesso!", error);
            location.hfref="home";
        })
        .catch((error) =>{
            console.error("erro ao salvar:", error);
            alert("erro ao cadastrar.");
        });    

        </script>
</body>
</html>
